{"version":3,"sources":["webpack:///./frontend/components/quests/heart_animation.jsx","webpack:///./frontend/components/quests/quest.jsx","webpack:///./frontend/components/quests/quest_container.js"],"names":["HeartAnimation","props","isVis","visible","display","React","Component","Quest","state","author","authorAvatar","liked","followed","toggleFollowed","bind","toggleLiked","fetchAllLikes","prevProps","setState","fetchSingleQuest","quest","id","e","preventDefault","unlikeQuest","likeQuest","setTimeout","unfollowUser","authorId","followUser","currentUser","deleteQuest","loc","tags","noteCount","visibility","likedClass","heartAnimation","questHeader","questFooter","openModal","username","isQuote","quest_type","source","titleSection","title","imageSection","imageUrls","map","imageUrl","idx","videoSection","audioSection","textSection","text","tagSection","tag_joins","length","questTags","tag_join","tag","tag_name","avatar","window","mapStateToProps","ownProps","Object","values","entities","likes","forEach","like","quest_id","user_id","session","follows","follow","follower_id","tags_joins","mapDispatchToProps","dispatch","modal","questId","userId","withRouter","connect"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;IAEMA,c;;;;;AACJ,0BAAYC,KAAZ,EAAkB;AAAA;;AAAA,6BACVA,KADU;AAEjB;;;;WAED,kBAAQ;AACN,UAAIC,KAAK,GAAG,KAAZ;AACAA,WAAK,GAAG,KAAKD,KAAL,CAAWE,OAAnB;AACA,UAAMC,OAAO,GAAGF,KAAK,gBAAI;AAAK,iBAAS,EAAE,KAAKD,KAAL;AAAhB,QAAJ,GAAgD,IAArE;AACA,0BACE,wHACGG,OADH,CADF;AAKD;;;;EAd0BC,4CAAK,CAACC,S;;AAiBpBN,6EAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBA;AACA;CAEA;;IAEMO,K;;;;;AACJ,iBAAYN,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AACA,UAAKO,KAAL,GAAa;AACXC,YAAM,EAAE,MAAI,IAAI,MAAKR,KAAL,CAAWQ,MADhB;AAEXC,kBAAY,EAAE,MAAKT,KAAL,CAAWS,YAFd;AAGXC,WAAK,EAAE,MAAKV,KAAL,CAAWU,KAHP;AAIXR,aAAO,EAAE,KAJE;AAKXS,cAAQ,EAAE,MAAK,IAAI,MAAKX,KAAL,CAAWW;AALnB,KAAb;AAOA,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,+BAAtB;AACA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBD,IAAjB,+BAAnB;AAViB;AAWlB;;;;WAED,6BAAoB;AAClB;AACA;AACA;AACA,WAAKb,KAAL,CAAWe,aAAX,GAJkB,CAKlB;AACD;;;WAED,4BAAmBC,SAAnB,EAA8B;AAC5B,UACG,KAAKhB,KAAL,CAAWQ,MAAX,IAAqB,CAACQ,SAAS,CAACR,MAAjC,IACA,KAAKR,KAAL,CAAWQ,MAAX,KAAsBQ,SAAS,CAACR,MAFlC,EAGE;AACA,aAAKS,QAAL,CAAc;AAAET,gBAAM,EAAE,KAAKR,KAAL,CAAWQ;AAArB,SAAd;AACD;;AAED,UAAI,KAAKR,KAAL,CAAWW,QAAX,KAAwBK,SAAS,CAACL,QAAtC,EAAgD;AAC9C,aAAKM,QAAL,CAAc;AAAEN,kBAAQ,EAAE,KAAKX,KAAL,CAAWW;AAAvB,SAAd;AACD;;AACD,UAAI,KAAKX,KAAL,CAAWU,KAAX,KAAqBM,SAAS,CAACN,KAAnC,EAA0C;AACxC,aAAKO,QAAL,CAAc;AAAEP,eAAK,EAAE,KAAKV,KAAL,CAAWU;AAApB,SAAd;AACA,aAAKV,KAAL,CAAWkB,gBAAX,CAA4B,KAAKlB,KAAL,CAAWmB,KAAX,CAAiBC,EAA7C;AACA,aAAKpB,KAAL,CAAWe,aAAX;AACD;;AACD,UAAI,KAAKf,KAAL,CAAWmB,KAAX,CAAiBC,EAAjB,KAAwBJ,SAAS,CAACG,KAAV,CAAgBC,EAA5C,EAAgD;AAC9C,aAAKH,QAAL,CAAc;AACZP,eAAK,EAAE,KAAKV,KAAL,CAAWU,KADN;AAEZC,kBAAQ,EAAE,KAAKX,KAAL,CAAWW,QAFT;AAGZT,iBAAO,EAAE;AAHG,SAAd;AAKD;AACF;;;WAGD,qBAAYmB,CAAZ,EAAe;AAAA;;AACbA,OAAC,CAACC,cAAF;AACA,UAAMH,KAAK,GAAG,KAAKnB,KAAL,CAAWmB,KAAzB;;AACA,UAAI,KAAKZ,KAAL,CAAWG,KAAf,EAAsB;AACpB,aAAKV,KAAL,CAAWuB,WAAX,CAAuBJ,KAAK,CAACC,EAA7B;AACD,OAFD,MAEO;AACL,aAAKpB,KAAL,CAAWwB,SAAX,CAAqBL,KAAK,CAACC,EAA3B;AACD;;AACD,WAAKH,QAAL,CAAc;AAAEP,aAAK,EAAE,CAAC,KAAKH,KAAL,CAAWG;AAArB,OAAd;AACA,WAAKO,QAAL,CAAc;AAAEf,eAAO,EAAE;AAAX,OAAd;AACAuB,gBAAU,CAAC,YAAM;AACf,cAAI,CAACR,QAAL,CAAc;AAAEf,iBAAO,EAAE;AAAX,SAAd;AACD,OAFS,EAEP,GAFO,CAAV;AAGD;;;WAED,0BAAiB;AACf,UAAMiB,KAAK,GAAG,KAAKnB,KAAL,CAAWmB,KAAzB;;AACA,UAAI,KAAKZ,KAAL,CAAWI,QAAf,EAAyB;AACvB,aAAKX,KAAL,CAAW0B,YAAX,CAAwBP,KAAK,CAACQ,QAA9B;AACD,OAFD,MAEO;AACL,aAAK3B,KAAL,CAAW4B,UAAX,CAAsBT,KAAK,CAACQ,QAA5B;AACD;AACF;;;WAED,kBAAS;AAAA;;AAAA,wBACqE,KAAK3B,KAD1E;AAAA,UACC6B,WADD,eACCA,WADD;AAAA,UACcV,KADd,eACcA,KADd;AAAA,UACqBQ,QADrB,eACqBA,QADrB;AAAA,UAC+BG,WAD/B,eAC+BA,WAD/B;AAAA,UAC4CC,GAD5C,eAC4CA,GAD5C;AAAA,UACiDC,IADjD,eACiDA,IADjD;AAAA,UACuDC,SADvD,eACuDA,SADvD;AAAA,wBAEwB,KAAK1B,KAF7B;AAAA,UAEDC,MAFC,eAEDA,MAFC;AAAA,UAEOC,YAFP,eAEOA,YAFP;AAGP,UAAIyB,UAAU,GAAG,KAAK3B,KAAL,CAAWL,OAA5B;AACA,UAAI0B,UAAJ;AACA,UAAIO,UAAJ;AACA,UAAIC,cAAJ;AAGA,UAAIC,WAAJ;AACA,UAAIC,WAAJ;AAEA,UAAI,CAAC9B,MAAL,EAAaA,MAAM,GAAG,EAAT;;AACb,UAAI,KAAKD,KAAL,CAAWI,QAAf,EAAyB;AACvBiB,kBAAU,gBACR;AACE,iBAAO,EAAE,KAAKhB,cADhB;AAEE,mBAAS,EAAC;AAFZ,sBADF;AAQD,OATD,MASO;AACLgB,kBAAU,gBACR;AACE,iBAAO,EAAE,KAAKhB,cADhB;AAEE,mBAAS,EAAC;AAFZ,oBADF;AAQD;;AAED,UAAI,KAAKL,KAAL,CAAWG,KAAf,EAAsB;AACpByB,kBAAU,GAAG,0BAAb;AACAC,sBAAc,gBACZ,2DAAC,wDAAD;AACE,iBAAO,EAAEF,UADX;AAEE,mBAAO;AAFT,UADF;AAMAA,kBAAU,GAAG,KAAb;AACD,OATD,MASO;AACLC,kBAAU,GAAG,4BAAb;AACAC,sBAAc,gBACZ,2DAAC,wDAAD;AACE,iBAAO,EAAEF,UADX;AAEE,mBAAO;AAFT,UADF;AAMAA,kBAAU,GAAG,KAAb;AACD;;AAED,UAAIP,QAAQ,KAAKE,WAAW,CAACT,EAA7B,EAAiC;AAC/BiB,mBAAW,gBACT;AACE,mBAAS,EAAC,cADZ;AAEE,iBAAO,EAAE;AAAA,mBAAM,MAAI,CAACrC,KAAL,CAAWuC,SAAX,CAAqB,UAArB,CAAN;AAAA,WAFX;AAGE,YAAE,EAAE,KAAKvC,KAAL,CAAW2B;AAHjB,WAKGnB,MAAM,CAACgC,QALV,CADF;AASAF,mBAAW,gBACT;AAAK,mBAAS,EAAC;AAAf,wBACE;AAAK,mBAAS,EAAC;AAAf,wBACE;AAAK,mBAAS,EAAC;AAAf,WACGL,SADH,OACeA,SAAS,KAAK,CAAd,GAAkB,MAAlB,GAA2B,OAD1C,CADF,CADF,eAME;AAAK,mBAAS,EAAC;AAAf,wBACE;AAAK,mBAAS,EAAC;AAAf,wBACE;AACE,mBAAS,EAAC,kBADZ;AAEE,iBAAO,EAAE;AAAA,mBAAM,MAAI,CAACjC,KAAL,CAAWuC,SAAX,sBAAmCpB,KAAK,CAACC,EAAzC,EAAN;AAAA;AAFX,UADF,eAKE;AACE,mBAAS,EAAC,oBADZ;AAEE,iBAAO,EAAE;AAAA,mBAAMU,WAAW,CAACX,KAAK,CAACC,EAAP,CAAjB;AAAA,WAFX;AAGE,YAAE,EAAED,KAAK,CAACC;AAHZ,UALF,CADF,CANF,CADF;AAsBD,OAhCD,MAgCO;AACLiB,mBAAW,gBACT,qIACE;AACE,iBAAO,EAAE;AAAA,mBAAM,MAAI,CAACrC,KAAL,CAAWuC,SAAX,CAAqB,UAArB,CAAN;AAAA,WADX;AAEE,YAAE,EAAE,KAAKvC,KAAL,CAAW2B;AAFjB,WAIGnB,MAAM,CAACgC,QAJV,CADF,EAOGZ,UAPH,CADF;AAWAU,mBAAW,gBACT;AAAK,mBAAS,EAAC;AAAf,wBACE;AAAK,mBAAS,EAAC;AAAf,wBACE;AAAK,mBAAS,EAAC;AAAf,WACGL,SADH,OACeA,SAAS,KAAK,CAAd,GAAkB,MAAlB,GAA2B,OAD1C,CADF,CADF,eAME;AAAK,mBAAS,EAAC;AAAf,wBACE;AAAK,mBAAS,EAAC;AAAf,wBAIE;AACE,mBAAS,iBAAUE,UAAV,CADX;AAEE,iBAAO,EAAE,iBAACd,CAAD;AAAA,mBAAO,MAAI,CAACP,WAAL,CAAiBO,CAAjB,CAAP;AAAA;AAFX,UAJF,EAQGe,cARH,CADF,CANF,CADF;AAqBD;;AACD,UAAIK,OAAO,GAAGtB,KAAK,CAACuB,UAAN,KAAqB,OAArB,GAA+B,GAA/B,GAAsCC,MAAM,GAAG,IAA7D;AACA,UAAIA,MAAM,GAAGxB,KAAK,CAACuB,UAAN,KAAqB,OAArB,GAA+B,QAA/B,GAA2CD,OAAO,GAAG,IAAlE;AAEA,UAAIG,YAAY,GAAG,IAAnB;;AACA,UAAIzB,KAAK,CAAC0B,KAAN,KAAgB,EAApB,EAAwB;AACtBD,oBAAY,gBACV;AAAK,mBAAS,EAAC;AAAf,WACGH,OADH,EAEGtB,KAAK,CAAC0B,KAFT,EAGGJ,OAHH,CADF;AAOD;;AAED,UAAIK,YAAY,GAAG,IAAnB;;AACA,UAAI3B,KAAK,CAAC4B,SAAN,IAAmB5B,KAAK,CAACuB,UAAN,KAAqB,OAA5C,EAAqD;AACnDI,oBAAY,GAAG3B,KAAK,CAAC4B,SAAN,CAAgBC,GAAhB,CAAoB,UAACC,QAAD,EAAWC,GAAX,EAAmB;AACpD,8BAAO;AAAK,eAAG,gBAASA,GAAT,CAAR;AAAwB,qBAAS,EAAC,aAAlC;AAAgD,eAAG,EAAED;AAArD,YAAP;AACD,SAFc,CAAf;AAGD;;AAED,UAAIE,YAAY,GAAG,IAAnB;;AACA,UAAIhC,KAAK,CAAC4B,SAAN,IAAmB5B,KAAK,CAACuB,UAAN,KAAqB,OAA5C,EAAqD;AACnDS,oBAAY,GAAGhC,KAAK,CAAC4B,SAAN,CAAgBC,GAAhB,CAAoB,UAACC,QAAD,EAAWC,GAAX,EAAmB;AACpD,8BACE;AAAO,eAAG,gBAASA,GAAT,CAAV;AAA0B,eAAG,EAAED,QAA/B;AAAyC,qBAAS,EAAC,aAAnD;AAAiE,oBAAQ;AAAzE,YADF;AAGD,SAJc,CAAf;AAKD;;AAED,UAAIG,YAAY,GAAG,IAAnB;;AACA,UAAIjC,KAAK,CAAC4B,SAAN,IAAmB5B,KAAK,CAACuB,UAAN,KAAqB,OAA5C,EAAqD;AACnDU,oBAAY,GAAGjC,KAAK,CAAC4B,SAAN,CAAgBC,GAAhB,CAAoB,UAACC,QAAD,EAAWC,GAAX,EAAmB;AACpD,8BACE;AAAK,eAAG,kBAAWA,GAAX,CAAR;AAA0B,qBAAS,EAAC;AAApC,0BACE;AAAO,qBAAS,EAAC,gBAAjB;AAAkC,eAAG,EAAED,QAAvC;AAAiD,oBAAQ;AAAzD,YADF,CADF;AAKD,SANc,CAAf;AAOD;;AAED,UAAII,WAAW,GAAG,IAAlB;;AACA,UAAIlC,KAAK,CAACmC,IAAN,KAAe,EAAnB,EAAuB;AACrBD,mBAAW,gBACT;AAAK,mBAAS,EAAC;AAAf,WACGV,MADH,EAEGxB,KAAK,CAACmC,IAFT,CADF;AAMD;;AAED,UAAIC,UAAU,GAAG,IAAjB;;AACA,UAAIpC,KAAK,CAACqC,SAAN,CAAgBC,MAAhB,GAAyB,CAA7B,EAAgC;AAC9B,YAAMC,SAAS,GAAGvC,KAAK,CAACqC,SAAN,CAAgBR,GAAhB,CAAoB,UAACW,QAAD,EAAUT,GAAV,EAAkB;AACtD,8BACE,2DAAC,qDAAD;AACE,cAAE,iBAAUS,QAAQ,CAACC,GAAT,CAAaxC,EAAvB,CADJ;AAEE,eAAG,kBAAWD,KAAK,CAACC,EAAjB,kBAA2B8B,GAA3B,CAFL;AAGE,qBAAS,EAAC,WAHZ;AAIE,gCAAkBS,QAAQ,CAACvC;AAJ7B,kBAMIuC,QAAQ,CAACC,GAAT,CAAaC,QANjB,CADF;AAUD,SAXiB,CAAlB;AAYAN,kBAAU,gBAAG;AAAK,mBAAS,EAAC;AAAf,WAAsCG,SAAtC,CAAb;AACD;;AAED,UAAII,MAAM,GAAGC,MAAM,CAACD,MAApB;;AACA,UAAItD,MAAM,IAAIA,MAAM,CAACsD,MAAP,KAAkB,SAAhC,EAA2C;AACzCA,cAAM,GAAGrD,YAAY,IAAID,MAAM,CAACsD,MAAhC;AACD;;AAED,0BACE;AAAK,WAAG,kBAAW3C,KAAK,CAACC,EAAjB,CAAR;AAA+B,iBAAS,4BAAqBW,GAArB;AAAxC,sBACE;AACE,iBAAS,mBAAYA,GAAZ,CADX;AAEE,WAAG,EAAE+B,MAFP;AAGE,eAAO,EAAE;AAAA,iBAAM,MAAI,CAAC9D,KAAL,CAAWuC,SAAX,CAAqB,UAArB,CAAN;AAAA,SAHX;AAIE,UAAE,EAAE,KAAKvC,KAAL,CAAW2B;AAJjB,QADF,eAOE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAK,iBAAS,EAAC;AAAf,sBACE;AACE,iBAAS,mBAAYI,GAAZ,WADX;AAEE,WAAG,EAAE+B,MAFP;AAGE,eAAO,EAAE;AAAA,iBAAM,MAAI,CAAC9D,KAAL,CAAWuC,SAAX,CAAqB,UAArB,CAAN;AAAA,SAHX;AAIE,UAAE,EAAE,KAAKvC,KAAL,CAAW2B;AAJjB,QADF,EAOGU,WAPH,CADF,EAUGO,YAVH,EAWGE,YAXH,EAYGM,YAZH,EAaGD,YAbH,EAcGE,WAdH,EAeGE,UAfH,eAgBE;AAAK,iBAAS,EAAC;AAAf,SAAyCjB,WAAzC,CAhBF,CAPF,CADF;AA4BD;;;;EApSiBlC,4CAAK,CAACC,S;;AAuSXC,oEAAf,E;;;;;;;;;;;;AC5SA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;CAEA;;AACA;AACA;AACA;AACA;;AAEA,IAAM0D,eAAe,GAAG,SAAlBA,eAAkB,CAACzD,KAAD,EAAQ0D,QAAR,EAAqB;AAC3C,MAAIvD,KAAK,GAAG,KAAZ;AACA,MAAIC,QAAQ,GAAG,KAAf;AACAuD,QAAM,CAACC,MAAP,CAAc5D,KAAK,CAAC6D,QAAN,CAAeC,KAA7B,EAAoCC,OAApC,CAA4C,UAACC,IAAD,EAAU;AACpD,QACEA,IAAI,CAACC,QAAL,KAAkBP,QAAQ,CAAC9C,KAAT,CAAeC,EAAjC,IACAmD,IAAI,CAACE,OAAL,KAAiBlE,KAAK,CAACmE,OAAN,CAAc7C,WAAd,CAA0BT,EAF7C,EAGE;AACAV,WAAK,GAAG,IAAR;AACD;AACF,GAPD;AAQAwD,QAAM,CAACC,MAAP,CAAc5D,KAAK,CAAC6D,QAAN,CAAeO,OAA7B,EAAsCL,OAAtC,CAA8C,UAACM,MAAD,EAAU;AACtD,QAAIA,MAAM,CAACH,OAAP,KAAmBR,QAAQ,CAAC9C,KAAT,CAAesD,OAAlC,IAA6CG,MAAM,CAACC,WAAP,KAAuBtE,KAAK,CAACmE,OAAN,CAAc7C,WAAd,CAA0BT,EAAlG,EAAsG;AAACT,cAAQ,GAAG,IAAX;AAAgB;;AAAC;AACzH,GAFD;AAGA,MAAIgB,QAAQ,GAAGsC,QAAQ,CAAC9C,KAAT,CAAeX,MAAf,CAAsBY,EAArC;AACE,SAAO;AACPS,eAAW,EAAEtB,KAAK,CAACmE,OAAN,CAAc7C,WADpB;AAEPF,YAAQ,EAAEA,QAFH;AAGP;AACAnB,UAAM,EAAEyD,QAAQ,CAAC9C,KAAT,CAAeX,MAJhB;AAKPC,gBAAY,EAAEwD,QAAQ,CAAC9C,KAAT,CAAeV,YAAf,IAA+B,IALtC;AAMPU,SAAK,EAAE8C,QAAQ,CAAC9C,KANT;AAOP2D,cAAU,EAAEb,QAAQ,CAAC9C,KAAT,CAAeqC,SAPpB;AAQP9C,SAAK,EAAEA,KARA;AASPC,YAAQ,EAAEA,QATH;AAUPsB,aAAS,EAAEgC,QAAQ,CAAC9C,KAAT,CAAekD;AAVnB,GAAP;AAYH,CA3BD;;AA6BA,IAAMU,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD;AAAA,SAAe;AACxC;AACAzC,aAAS,EAAE,mBAAC0C,KAAD;AAAA,aAAWD,QAAQ,CAACzC,wEAAS,CAAC0C,KAAD,CAAV,CAAnB;AAAA,KAF6B;AAGxCzD,aAAS,EAAE,mBAAC0D,OAAD;AAAA,aAAaF,QAAQ,CAACxD,uEAAS,CAAC0D,OAAD,CAAV,CAArB;AAAA,KAH6B;AAIxC3D,eAAW,EAAE,qBAAC2D,OAAD;AAAA,aAAaF,QAAQ,CAACzD,yEAAW,CAAC2D,OAAD,CAAZ,CAArB;AAAA,KAJ2B;AAKxCnE,iBAAa,EAAE;AAAA,aAAMiE,QAAQ,CAACjE,2EAAa,EAAd,CAAd;AAAA,KALyB;AAMxCa,cAAU,EAAE,oBAACuD,MAAD;AAAA,aAAYH,QAAQ,CAACpD,0EAAU,CAACuD,MAAD,CAAX,CAApB;AAAA,KAN4B;AAOxCzD,gBAAY,EAAE,sBAACyD,MAAD;AAAA,aAAYH,QAAQ,CAACtD,4EAAY,CAACyD,MAAD,CAAb,CAApB;AAAA,KAP0B;AAQxCrD,eAAW,EAAE,qBAACoD,OAAD;AAAA,aAAaF,QAAQ,CAAClD,0EAAW,CAACoD,OAAD,CAAZ,CAArB;AAAA,KAR2B;AASxChE,oBAAgB,EAAE,0BAACgE,OAAD;AAAA,aAAaF,QAAQ,CAAC9D,+EAAgB,CAACgE,OAAD,CAAjB,CAArB;AAAA;AATsB,GAAf;AAAA,CAA3B;;AAYeE,kIAAU,CAACC,2DAAO,CAACrB,eAAD,EAAkBe,kBAAlB,CAAP,CAA6CzE,8CAA7C,CAAD,CAAzB,E","file":"0.bundle.js","sourcesContent":["import React from 'react'\n\nclass HeartAnimation extends React.Component {\n  constructor(props){\n    super(props);\n  }\n\n  render(){\n    let isVis = false;\n    isVis = this.props.visible;\n    const display = isVis ? (<div className={this.props.class}></div>) : null;\n    return (\n      <>\n        {display}\n      </>\n    )\n  }\n}\n\nexport default HeartAnimation;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport HeartAnimation from './heart_animation';\n// import { deleteQuest } from '../../util/quest_api_utils';\n\nclass Quest extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      author: null || this.props.author,\n      authorAvatar: this.props.authorAvatar,\n      liked: this.props.liked,\n      visible: false,\n      followed: false || this.props.followed,\n    };\n    this.toggleFollowed = this.toggleFollowed.bind(this);\n    this.toggleLiked = this.toggleLiked.bind(this);\n  }\n\n  componentDidMount() {\n    // if (!this.props.author) {\n    //   this.props.fetchUser(this.props.authorId);\n    // }\n    this.props.fetchAllLikes();\n    // this.props.fetchSingleQuest(this.props.quest.id);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      (this.props.author && !prevProps.author) ||\n      this.props.author !== prevProps.author\n    ) {\n      this.setState({ author: this.props.author });\n    }\n\n    if (this.props.followed !== prevProps.followed) {\n      this.setState({ followed: this.props.followed });\n    }\n    if (this.props.liked !== prevProps.liked) {\n      this.setState({ liked: this.props.liked });\n      this.props.fetchSingleQuest(this.props.quest.id);\n      this.props.fetchAllLikes();\n    }\n    if (this.props.quest.id !== prevProps.quest.id) {\n      this.setState({\n        liked: this.props.liked,\n        followed: this.props.followed,\n        visible: false\n      });\n    }\n  }\n\n\n  toggleLiked(e) {\n    e.preventDefault();\n    const quest = this.props.quest;\n    if (this.state.liked) {\n      this.props.unlikeQuest(quest.id);\n    } else {\n      this.props.likeQuest(quest.id);\n    }\n    this.setState({ liked: !this.state.liked });\n    this.setState({ visible: true });\n    setTimeout(() => {\n      this.setState({ visible: false });\n    }, 500);\n  }\n\n  toggleFollowed() {\n    const quest = this.props.quest;\n    if (this.state.followed) {\n      this.props.unfollowUser(quest.authorId);\n    } else {\n      this.props.followUser(quest.authorId);\n    }\n  }\n\n  render() {\n    const { currentUser, quest, authorId, deleteQuest, loc, tags, noteCount } = this.props;\n    let { author, authorAvatar } = this.state;\n    let visibility = this.state.visible;\n    let followUser;\n    let likedClass;\n    let heartAnimation;\n\n\n    let questHeader;\n    let questFooter;\n\n    if (!author) author = '';\n    if (this.state.followed) {\n      followUser = (\n        <div\n          onClick={this.toggleFollowed}\n          className=\"unfollow-button follow-toggle-button\"\n        >\n          Unfollow\n        </div>\n      );\n    } else {\n      followUser = (\n        <div\n          onClick={this.toggleFollowed}\n          className=\"follow-button follow-toggle-button\"\n        >\n          Follow\n        </div>\n      );\n    }\n\n    if (this.state.liked) {\n      likedClass = 'liked-heart fas fa-heart';\n      heartAnimation = (\n        <HeartAnimation\n          visible={visibility}\n          class={'regular-heart fas fa-heart'}\n        />\n      );\n      visibility = false;\n    } else {\n      likedClass = 'unliked-heart far fa-heart';\n      heartAnimation = (\n        <HeartAnimation\n          visible={visibility}\n          class={'broken-heart fas fa-heart-broken'}\n        />\n      );\n      visibility = false;\n    }\n\n    if (authorId === currentUser.id) {\n      questHeader = (\n        <span\n          className=\"quest-author\"\n          onClick={() => this.props.openModal('userpage')}\n          id={this.props.authorId}\n        >\n          {author.username}\n        </span>\n      );\n      questFooter = (\n        <div className=\"quest-footer\">\n          <div className=\"quest-footer-left\">\n            <div className=\"note-section\">\n              {noteCount} {noteCount === 1 ? \"Note\" : \"Notes\"}\n            </div>\n          </div>\n          <div className=\"quest-footer-right\">\n            <div className=\"quest-buttons\">\n              <button \n                className=\"edit fas fa-edit\"\n                onClick={() => this.props.openModal(`edit-quest-${quest.id}`)}\n              ></button>\n              <button\n                className=\"trash fas fa-trash\"\n                onClick={() => deleteQuest(quest.id)}\n                id={quest.id}\n              ></button>\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      questHeader = (\n        <>\n          <span\n            onClick={() => this.props.openModal('userpage')}\n            id={this.props.authorId}\n          >\n            {author.username}\n          </span>\n          {followUser}\n        </>\n      );\n      questFooter = (\n        <div className=\"quest-footer\">\n          <div className=\"quest-footer-left\">\n            <div className=\"note-section\">\n              {noteCount} {noteCount === 1 ? \"Note\" : \"Notes\"}\n            </div>\n          </div>\n          <div className=\"quest-footer-right\">\n            <div className=\"quest-buttons\">\n              {/* Not functional yet */}\n              {/* <button className=\"reply fas fa-reply\"></button>\n              <button className=\"reblog fas fa-retweet\"></button> */}\n              <button\n                className={`like ${likedClass}`}\n                onClick={(e) => this.toggleLiked(e)}\n              ></button>\n              {heartAnimation}\n            </div>\n          </div>\n        </div>\n      );\n    }\n    let isQuote = quest.quest_type === 'quote' ? '\"' : (source = null);\n    let source = quest.quest_type === 'quote' ? '\\u2014' : (isQuote = null);\n\n    let titleSection = null;\n    if (quest.title !== '') {\n      titleSection = (\n        <div className=\"title\">\n          {isQuote}\n          {quest.title}\n          {isQuote}\n        </div>\n      );\n    }\n\n    let imageSection = null;\n    if (quest.imageUrls && quest.quest_type === 'image') {\n      imageSection = quest.imageUrls.map((imageUrl, idx) => {\n        return <img key={`img-${idx}`} className=\"image-video\" src={imageUrl} />;\n      });\n    }\n\n    let videoSection = null;\n    if (quest.imageUrls && quest.quest_type === 'video') {\n      videoSection = quest.imageUrls.map((imageUrl, idx) => {\n        return (\n          <video key={`vid-${idx}`} src={imageUrl} className=\"image-video\" controls />\n        );\n      });\n    }\n\n    let audioSection = null;\n    if (quest.imageUrls && quest.quest_type === 'audio') {\n      audioSection = quest.imageUrls.map((imageUrl, idx) => {\n        return (\n          <div key={`audio-${idx}`} className=\"audio\">\n            <audio className=\"audio-controls\" src={imageUrl} controls />\n          </div>\n        );\n      });\n    }\n\n    let textSection = null;\n    if (quest.text !== '') {\n      textSection = (\n        <div className=\"text\">\n          {source}\n          {quest.text}\n        </div>\n      );\n    }\n\n    let tagSection = null;\n    if (quest.tag_joins.length > 0) {\n      const questTags = quest.tag_joins.map((tag_join,idx) => {\n        return (\n          <Link\n            to={`/tag/${tag_join.tag.id}`}\n            key={`quest-${quest.id}-tag-${idx}`}\n            className=\"quest-tag\"\n            data-tag-join-id={tag_join.id}\n          >\n            #{tag_join.tag.tag_name}\n          </Link>\n        );\n      });\n      tagSection = <div className=\"quest-tag-container\">{questTags}</div>;\n    }\n\n    let avatar = window.avatar;\n    if (author && author.avatar !== 'default') {\n      avatar = authorAvatar || author.avatar;\n    }\n\n    return (\n      <div key={`quest-${quest.id}`} className={`quest-container-${loc}`}>\n        <img\n          className={`avatar-${loc}`}\n          src={avatar}\n          onClick={() => this.props.openModal('userpage')}\n          id={this.props.authorId}\n        />\n        <div className=\"quest\">\n          <div className=\"quest-header\">\n            <img\n              className={`avatar-${loc}-small`}\n              src={avatar}\n              onClick={() => this.props.openModal('userpage')}\n              id={this.props.authorId}\n            />\n            {questHeader}\n          </div>\n          {titleSection}\n          {imageSection}\n          {audioSection}\n          {videoSection}\n          {textSection}\n          {tagSection}\n          <div className=\"quest-footer-container\">{questFooter}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Quest;\n","import { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport Quest from './quest';\n// import { fetchUser } from '../../actions/user_actions';\nimport { openModal } from '../../actions/modal_actions';\nimport { likeQuest, unlikeQuest, fetchAllLikes } from '../../actions/like_actions';\nimport { followUser, unfollowUser } from '../../actions/follow_actions';\nimport { deleteQuest, fetchSingleQuest } from '../../actions/quest_actions'\n\nconst mapStateToProps = (state, ownProps) => {\n  let liked = false;\n  let followed = false;\n  Object.values(state.entities.likes).forEach((like) => {\n    if (\n      like.quest_id === ownProps.quest.id &&\n      like.user_id === state.session.currentUser.id\n    ) {\n      liked = true;\n    }\n  });\n  Object.values(state.entities.follows).forEach((follow)=>{\n    if (follow.user_id === ownProps.quest.user_id && follow.follower_id === state.session.currentUser.id) {followed = true} ;\n  })\n  let authorId = ownProps.quest.author.id;\n    return {\n    currentUser: state.session.currentUser,\n    authorId: authorId,\n    // author: state.entities.users[authorId],\n    author: ownProps.quest.author,\n    authorAvatar: ownProps.quest.authorAvatar || null,\n    quest: ownProps.quest,\n    tags_joins: ownProps.quest.tag_joins,\n    liked: liked,\n    followed: followed,\n    noteCount: ownProps.quest.likes,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  // fetchUser: (userId) => dispatch(fetchUser(userId)),\n  openModal: (modal) => dispatch(openModal(modal)),\n  likeQuest: (questId) => dispatch(likeQuest(questId)),\n  unlikeQuest: (questId) => dispatch(unlikeQuest(questId)),\n  fetchAllLikes: () => dispatch(fetchAllLikes()),\n  followUser: (userId) => dispatch(followUser(userId)),\n  unfollowUser: (userId) => dispatch(unfollowUser(userId)),\n  deleteQuest: (questId) => dispatch(deleteQuest(questId)),\n  fetchSingleQuest: (questId) => dispatch(fetchSingleQuest(questId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Quest));"],"sourceRoot":""}