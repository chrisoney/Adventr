{"version":3,"sources":["webpack:///./frontend/components/modal/avatar_container.js","webpack:///./frontend/components/modal/avatar_upload.jsx","webpack:///./frontend/components/modal/edit_quest_container.js","webpack:///./frontend/components/modal/modal.jsx","webpack:///./frontend/components/modal/new_quest_container.js","webpack:///./frontend/components/modal/new_quest_form.jsx","webpack:///./frontend/components/modal/new_quest_selector.jsx","webpack:///./frontend/components/modal/user_menu.jsx","webpack:///./frontend/components/modal/user_page.jsx"],"names":["mapStateToProps","state","ownProps","currentUser","session","mapDispatchToProps","dispatch","closeModal","connect","AvatarUpload","props","currentUser_id","id","imageUrl","imageFile","errors","allowSubmit","reference","React","createRef","handleSubmit","bind","handleUpload","deletePreviewImage","type","e","setState","currentTarget","value","reader","FileReader","file","files","onloadend","result","readAsDataURL","idx","index","imageUrls","slice","imageFiles","splice","length","preventDefault","formData","FormData","photoFile","append","$","ajax","url","method","data","contentType","processData","titleSection","handleInput","imagePreviews","map","imageLabel","imageUploadSection","disabled","title","text","username","Component","tags","Object","values","entities","quest","task","questSubmitAction","updateQuest","fetchAllTags","fetchAllQuests","createTag","tag","addTagToQuest","quests_tag","removeTagFromQuest","tag_join_id","NewQuestForm","Modal","modal","openModal2","background","container","component","formType","onClickEffect","transparentBackground","userPageClose","document","querySelector","classList","add","window","setTimeout","quest_type","event","target","stopPropagation","ui","startsWith","parseInt","quests","modal2","openModal","createQuest","tag_joins","tag_join","tag_name","oldImageUrls","loading","then","that","key","toLowerCase","indexOf","concat","lastEle","tagToDelete","forEach","fileArr","urlArr","uploadedImages","i","fileReader","tagInput","getElementById","newDiv","createElement","innerHTML","parentElement","insertBefore","image","questData","questId","existingTags","x","tagExists","inputTag","newTag","includes","y","existingTag","questTagForm","order","tagFormData","tagData","createdTagId","placeholderText","oldImagePreviews","newImagePreviews","oldImagesFiles","newVideoPreviews","videoPreviews","videoLabel","videoUploadSection","newAudioPreviews","audioPreviews","audioLabel","audioUploadSection","quoteSection","textSection","tagSection","focus","formBlock","submitText","NewQuestSelector","toggleAnimation","style","position","toggle","UserMenu","logoutUser","logout","avatarUrl","avatar","UserPage","user","fetchUser","userId","myQuests","authorId","push","sortedQuests","reverse","showQuests","users"],"mappings":"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","file":"2.bundle.js","sourcesContent":["import { connect } from 'react-redux';\nimport AvatarUpload from './avatar_upload'\nimport { closeModal } from '../../actions/modal_actions'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    currentUser: state.session.currentUser,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  closeModal: () => dispatch(closeModal()),\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(AvatarUpload);","import React from 'react';\n\nclass AvatarUpload extends React.Component {\n  constructor(props){\n    super(props);\n    const { currentUser } = this.props;\n\t\tthis.state = {\n\t\t\tcurrentUser_id: currentUser.id,\n\t\t\timageUrl: null,\n\t\t\timageFile: null,\n\t\t\terrors: null,\n\t\t\tallowSubmit: true\n\t\t};\n\t\tthis.reference = React.createRef();\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleUpload = this.handleUpload.bind(this);\n\t\tthis.deletePreviewImage = this.deletePreviewImage.bind(this);\n  }\n\n  handleInput(type) {\n\t\treturn (e) => {\n\t\t\tthis.setState({ [type]: e.currentTarget.value });\n\t\t}\n  }\n\n  handleUpload(e) {\n\t\tconst reader = new FileReader();\n\t\tconst file = e.currentTarget.files[0];\n\t\treader.onloadend = () =>\n\t\t\tthis.setState({ imageUrl: reader.result, imageFile: file });\n\n\t\tif (file) {\n\t\t\treader.readAsDataURL(file);\n\t\t} else {\n\t\t\tthis.setState({ imageUrl: \"\", imageFile: null });\n\t\t}\n\n  }\n  \n  deletePreviewImage(idx){\n\t\tlet index = idx.idx;\n\t\t\n\t\tlet imageUrls = this.state.imageUrls.slice();\n\t\tlet imageFiles = this.state.imageFiles.slice();\n\t\t\n\t\timageUrls.splice(index,1);\n\t\timageFiles.splice(index,1);\n\t\t\n\t\tif (imageUrls && imageUrls.length===0) imageUrls = null;\n\t\tif (imageFiles && imageFiles.length===0) imageFiles = null;\n\n\t\tthis.setState({\n\t\t\timageUrl: imageUrl,\n\t\t\timageFile: imageFile\n\t\t})\n\n  }\n  \n  handleSubmit(e) {\n\t\te.preventDefault();\n\t\tconst formData = new FormData();\n\t\tif (this.state.photoFile) {\n\t\t\tformData.append('post[photo]', this.state.photoFile);\n\t\t}\n\t\t$.ajax({\n\t\t\turl: '/api/posts',\n\t\t\tmethod: 'POST',\n\t\t\tdata: formData,\n\t\t\tcontentType: false,\n\t\t\tprocessData: false\n\t\t});\n\t\t\n\t}\n  \n\n\n  render() {\n\t\tconst { closeModal, currentUser } = this.props;\n\t\tconst { imageFiles } = this.state;\n\n\t\t\tconst titleSection=(\n\t\t\t<input \n\t\t\t\ttype=\"text\" \n\t\t\t\tplaceholder=\"Title\"\n\t\t\t\tclassName=\"input-title\"\n\t\t\t\tonChange={this.handleInput(\"title\")} />);\n\n\t\t\tconst imagePreviews = this.state.imageUrls ?\n\t\t\t( this.state.imageUrls.map((imageUrl, idx)=>{\n\t\t\t\treturn (<div key={idx} className=\"image-preview-box\">\n\t\t\t\t\t<img className=\"image-preview\" src={imageUrl} />\n\t\t\t\t\t<i className=\"fas fa-times-circle delete-preview\"\n\t\t\t\t\t\tonClick={()=>this.deletePreviewImage({idx})}></i>\n\t\t\t\t\t</div>)\n\t\t\t\t})\n\t\t\t) : null;\n\n\t\t\tconst imageLabel = (this.state.imageFiles != null) ? (\"Add more photos\") : (\"Upload Photos!\")\n\t\t\tconst imageUploadSection = (\n\t\t\t\t<div className=\"image-upload-box\">\n\t\t\t\t\t{imagePreviews}\n\t\t\t\t\t<label \n\t\t\t\t\thtmlFor=\"upload-box\"\n\t\t\t\t\tclassName=\"upload-label-box\">\n\t\t\t\t\t\t<div className=\"camera-icon-text-container\">\n\t\t\t\t\t\t\t<div className=\"camera-icon fas fa-camera\" />\n\t\t\t\t\t\t\t<div>{imageLabel}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\tid=\"upload-box\"\n\t\t\t\t\t\tonChange={this.handleUpload}\n\t\t\t\t\t\tmultiple/>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t)\n\n\t\tlet disabled=true;\n\t\tif (title!=\"\" || text!=\"\" || imageFiles!=null) {disabled=false} else {disabled=true};\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{/* <img className=\"avatar-dash\" src={currentUser.avatar} /> */}\n\t\t\t\t<div className=\"quest-form-box quest-box\">\n\t\t\t\t\t<div className=\"quest-form-top-block\">{currentUser.username}</div>\n\t\t\t\t\t{imageUploadSection}\n\t\t\t\t\t<div className=\"quest-form-bottom-block\">\n\t\t\t\t\t\t<button className=\"quest-close\" onClick={closeModal}>Close</button>\n\t\t\t\t\t\t<button disabled={disabled} className=\"quest-create\" onClick={this.handleSubmit}>\n\t\t\t\t\t\t\t<span>Create</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\n}\n\nexport default AvatarUpload;","import { connect } from 'react-redux';\nimport NewQuestForm from './new_quest_form'\nimport { fetchAllQuests, updateQuest, addTagToQuest, removeTagFromQuest } from '../../actions/quest_actions';\nimport { fetchAllTags, createTag } from '../../actions/tag_actions';\nimport { closeModal } from '../../actions/modal_actions'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    currentUser: state.session.currentUser,\n    tags: Object.values(state.entities.tags),\n    type: ownProps.type,\n    quest: ownProps.quest,\n    task: 'edit'\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  questSubmitAction: (quest) => dispatch(updateQuest(quest)),\n  fetchAllTags: () => dispatch(fetchAllTags()),\n  fetchAllQuests: () => dispatch(fetchAllQuests()),\n  createTag: (tag) => dispatch(createTag(tag)),\n  addTagToQuest: (quests_tag) => dispatch(addTagToQuest(quests_tag)),\n  removeTagFromQuest: (tag_join_id) => dispatch(removeTagFromQuest(tag_join_id)),\n  closeModal: () => dispatch(closeModal()),\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(NewQuestForm);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { openModal, openModal2, closeModal } from '../../actions/modal_actions';\nimport UserPage from './user_page';\nimport UserMenu from './user_menu';\nimport NewQuestContainer from './new_quest_container';\nimport AvatarContainer from './avatar_container';\nimport NewQuestSelector from './new_quest_selector';\nimport EditQuestContainer from './edit_quest_container';\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { modal, closeModal, openModal2, quest } = this.props;\n    if (!modal) {\n      return null;\n    }\n    let background;\n    let container;\n    let component;\n    let formType;\n    let onClickEffect;\n    let transparentBackground;\n\n    const userPageClose = (e) => {\n      e.preventDefault();\n      document.querySelector('.user-page-container').classList.add('close');\n      window.setTimeout(() => {\n        closeModal();\n      }, 500);\n    };\n\n    if (modal.slice(0, 4) === 'new-') {\n      formType = modal.slice(4);\n    }\n    switch (modal) {\n      case 'new-text':\n      case 'new-image':\n      case 'new-quote':\n      case 'new-audio':\n      case 'new-video':\n        component = <NewQuestContainer type={formType}/>;\n        background = 'new-quest-background';\n        container = 'new-quest-container';\n        onClickEffect = closeModal;\n        transparentBackground = <div className=\"test-background\"></div>;\n        break;\n      case 'edit-quest':\n        component = <EditQuestContainer type={quest.quest_type} quest={quest}/>;\n        background = 'new-quest-background';\n        container = 'new-quest-container';\n        onClickEffect = closeModal;\n        transparentBackground = <div className=\"test-background\"></div>;\n        break;\n      case 'avatar':\n        component = <AvatarContainer />;\n        background = 'new-avatar-background';\n        container = 'new-avatar-container';\n        onClickEffect = closeModal;\n        break;\n      case 'usermenu':\n        component = (\n          <UserMenu openModal2={openModal2} closeModal={closeModal} />\n        );\n        background = 'user-menu-background';\n        container = 'user-menu-container';\n        onClickEffect = null;\n        break;\n      case 'userpage':\n        component = <UserPage authorId={event.target.id} />;\n        background = 'user-page-background';\n        container = 'user-page-container';\n        onClickEffect = userPageClose;\n        break;\n      case 'new-quest-selector':\n        component = <NewQuestSelector />;\n        background = 'quest-selector-background';\n        container = 'quest-selector-container';\n        onClickEffect = closeModal;\n        break;\n      default:\n        return null;\n    }\n    return (\n      <>\n        {transparentBackground}\n        <div className={background} onClick={(e) => onClickEffect(e)}>\n          <div className={container} onClick={(e) => e.stopPropagation()}>\n            {component}\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  let modal = state.ui.modal;\n  let quest;\n  if (modal && modal.startsWith('edit-quest')) {\n    modal = state.ui.modal.slice(0, 10);\n    const id = parseInt(state.ui.modal.slice(11));\n    quest = state.entities.quests[id];\n  }\n  return {\n    quest,\n    modal: modal,\n    modal2: state.ui.modal2,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    openModal: (modal) => dispatch(openModal(modal)),\n    openModal2: (modal) => dispatch(openModal2(modal)),\n    closeModal: () => dispatch(closeModal()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\n","import { connect } from 'react-redux';\nimport NewQuestForm from './new_quest_form'\nimport { fetchAllQuests, createQuest, addTagToQuest } from '../../actions/quest_actions';\nimport { fetchAllTags, createTag } from '../../actions/tag_actions';\nimport { closeModal } from '../../actions/modal_actions'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    currentUser: state.session.currentUser,\n    tags: Object.values(state.entities.tags),\n    type: ownProps.type,\n    task: 'create'\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  questSubmitAction: (quest) => dispatch(createQuest(quest)),\n  fetchAllTags: () => dispatch(fetchAllTags()),\n  fetchAllQuests: () => dispatch(fetchAllQuests()),\n  createTag: (tag) => dispatch(createTag(tag)),\n  addTagToQuest: (quests_tag) => dispatch(addTagToQuest(quests_tag)),\n  closeModal: () => dispatch(closeModal()),\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(NewQuestForm);","import React from 'react';\nimport Loading from '../loading/loading'\n\nclass NewQuestForm extends React.Component {\n  constructor(props) {\n    super(props);\n    const { type, currentUser, quest } = this.props;\n    this.state = {\n      currentUser_id: currentUser.id,\n      id: quest ? quest.id : null,\n      type: type,\n      title: quest ? quest.title : '',\n      text: quest ? quest.text : '',\n      tags: quest ? quest.tag_joins.map(tag_join => tag_join.tag.tag_name) : [],\n      oldImageUrls: quest ? quest.imageUrls : null,\n      imageUrls: null,\n      imageFiles: null,\n      errors: null,\n      allowSubmit: true,\n      loading: false,\n    };\n    // this.reference = React.createRef();\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleUpload = this.handleUpload.bind(this);\n    this.deletePreviewImage = this.deletePreviewImage.bind(this);\n    this.createTag = this.createTag.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.fetchAllTags();\n  }\n\n  componentWillUnmount() {\n    this.props.fetchAllQuests().then(() => {})\n  }\n\n  createTag(e) {\n    const that = this;\n    if (e.key === 'Enter' && e.target.value !== '') {\n      let tag = e.target.value.toLowerCase();\n      if (tag[0] === '#') tag = tag.slice(1);\n      if (this.state.tags.indexOf(tag) === -1) {\n        this.setState({ tags: this.state.tags.concat([tag]) });\n        // console.log(e.target);\n        // const newDiv = document.createElement('div');\n        // newDiv.classList.add('enteredTag');\n        // newDiv.innerHTML = `#${tag}`;\n        // newDiv.addEventListener('click', (e) => {\n        //   const tagToDelete = e.target.innerHTML.slice(1);\n        //   const index = this.state.tags.indexOf(tagToDelete);\n        //   const newTagArray = this.state.tags\n        //     .slice(0, index)\n        //     .concat(this.state.tags.slice(index + 1, this.state.tags.length));\n        //   this.setState({ tags: newTagArray });\n        //   e.target.remove();\n        // });\n        // e.target.parentElement.insertBefore(newDiv, e.target);\n      }\n      e.target.value = null;\n    } else if (\n      e.key === 'Backspace' &&\n      this.state.tags.length > 0 &&\n      e.target.value === ''\n    ) {\n      const lastEle = this.state.tags.length - 1;\n      const tagToDelete = this.state.tags[lastEle]\n      this.setState({ tags: this.state.tags.slice(0, lastEle) });\n      if (this.props.task === 'edit') {\n        this.props.quest.tag_joins.forEach((tag_join) => {\n          if (tag_join.tag.tag_name === tagToDelete) {\n            that.setState({ allowSubmit: false });\n            that.props.removeTagFromQuest(tag_join.id).then(() => {\n              that.setState({ allowSubmit: true });\n            })\n          }\n        })\n      }\n\n    }\n  }\n\n  handleInput(type) {\n    if (type !== 'tags') {\n      return (e) => {\n        this.setState({ [type]: e.currentTarget.value });\n      };\n    }\n  }\n\n  handleUpload(e) {\n    let that = this;\n    let fileArr = [];\n    let urlArr = [];\n\n    if (this.state.imageFiles !== null) {\n      fileArr = fileArr.concat(this.state.imageFiles);\n      urlArr = urlArr.concat(this.state.imageUrls);\n    }\n\n    let uploadedImages = e.currentTarget.files;\n\n    for (let i = 0; i < uploadedImages.length; i++) {\n      let file = uploadedImages[i];\n      let fileReader = new FileReader();\n\n      fileReader.onloadend = () => {\n        fileArr = fileArr.concat(file);\n        urlArr = urlArr.concat(fileReader.result);\n        that.setState({\n          imageFiles: fileArr,\n          imageUrls: urlArr,\n        });\n      };\n      if (file) fileReader.readAsDataURL(file);\n    }\n  }\n\n  deletePreviewImage(idx) {\n    let index = idx.idx;\n\n    let imageUrls = this.state.imageUrls.slice();\n    let imageFiles = this.state.imageFiles.slice();\n\n    imageUrls.splice(index, 1);\n    imageFiles.splice(index, 1);\n\n    if (imageUrls && imageUrls.length === 0) imageUrls = null;\n    if (imageFiles && imageFiles.length === 0) imageFiles = null;\n\n    this.setState({\n      imageUrls: imageUrls,\n      imageFiles: imageFiles,\n    });\n  }\n\n  handleSubmit(e) {\n    const that = this;\n    const tagInput = document.getElementById('tagInput');\n    if (tagInput.value !== '') {\n      const tag = [tagInput.value];\n      this.setState({ tags: this.state.tags.concat(tag) });\n      // console.log(tagInput);\n      const newDiv = document.createElement('div');\n      newDiv.classList.add('enteredTag');\n      newDiv.innerHTML = `#${tagInput.value}`;\n      tagInput.parentElement.insertBefore(newDiv, tagInput);\n      tagInput.value = null;\n    }\n    if (this.state.allowSubmit) {\n      e.preventDefault();\n      this.setState({ allowSubmit: false });\n      const formData = new FormData();\n      // changed\n      const imageFiles = this.state.imageFiles;\n      const id = this.state.id;\n      if (id) formData.append('quest[id]', id)\n      formData.append('quest[title]', this.state.title);\n      if (imageFiles) {\n        imageFiles.forEach((image, idx) => {\n          formData.append('quest[images][]', imageFiles[idx]);\n        });\n      }\n      formData.append('quest[text]', this.state.text);\n      formData.append('quest[quest_type]', this.state.type);\n\n      this.props.questSubmitAction(formData).then((questData) => {\n        const questId = questData.quest.id;\n        const tags = that.state.tags;\n        const existingTags = that.props.task === 'edit' ?\n          that.props.quest.tag_joins.map(tag_join => tag_join.tag.tag_name) :\n          [];\n        if (tags) {\n          for (let x = 0; x < tags.length; x++) {\n            let tagExists = false;\n            const inputTag = tags[x];\n            const newTag = inputTag[0] === '#' ? inputTag.slice(1) : inputTag;\n            if (existingTags.includes(newTag)) continue;\n            for (let y = 0; y < that.props.tags.length; y++) {\n              let existingTag = that.props.tags[y];\n              if (existingTag.tag_name === newTag) {\n                const questTagForm = new FormData();\n                questTagForm.append('tag_join[taggable_id]', questId);\n                questTagForm.append('tag_join[taggable_type]', 'Quest');\n                questTagForm.append('tag_join[tag_id]', existingTag.id);\n                const order = x + 1;\n                questTagForm.append('tag_join[order]', order);\n                this.props.addTagToQuest(questTagForm)\n                tagExists = true;\n                break;\n              }\n            }\n            if (!tagExists) {\n              const tagFormData = new FormData();\n              tagFormData.append('tag[tag_name]', newTag);\n              this.props\n                .createTag(tagFormData)\n                .then((tagData) => {\n                  const createdTagId = tagData.tag.id;\n                  const questTagForm = new FormData();\n                  questTagForm.append('tag_join[taggable_id]', questId);\n                  questTagForm.append('tag_join[taggable_type]', 'Quest');\n                  questTagForm.append('tag_join[tag_id]', createdTagId);\n                  const order = x + 1;\n                  questTagForm.append('tag_join[order]', order);\n                  this.props.addTagToQuest(questTagForm).then(() => {\n                    this.setState({ loading: true })\n                  });\n                })\n            }\n          }\n        }\n        this.props.closeModal();\n      });\n    }\n  }\n\n  render() {\n    const { closeModal, currentUser, type, task } = this.props;\n    const { title, text, imageFiles } = this.state;\n    let placeholderText;\n\n    if (this.state.loading) {\n      return <Loading background={'explore-container'}/>\n    }\n\n    switch (type) {\n      case 'text':\n        placeholderText = 'Your text here';\n        break;\n      case 'image':\n        placeholderText = 'Add a caption';\n        break;\n      case 'quote':\n        placeholderText = ' - Source';\n        break;\n      case 'audio':\n        placeholderText = 'Add a description';\n        break;\n      case 'video':\n        placeholderText = 'Add a caption';\n        break;\n      default:\n        placeholderText = '';\n        break;\n    }\n\n    const titleSection = (\n      <input\n        type=\"text\"\n        value={title}\n        placeholder=\"Title\"\n        className=\"input-title\"\n        onChange={this.handleInput('title')}\n      />\n    );\n\n    const oldImagePreviews = this.state.oldImageUrls\n      ? this.state.oldImageUrls.map((imageUrl, idx) => {\n          return (\n            <div key={`old-img-${idx}`} className=\"image-preview-box\">\n              <img className=\"image-preview\" src={imageUrl} />\n            </div>\n          );\n        })\n      : null;\n    \n    const newImagePreviews = this.state.imageUrls\n      ? this.state.imageUrls.map((imageUrl, idx) => {\n          return (\n            <div key={`new-img-${idx}`} className=\"image-preview-box\">\n              <img className=\"image-preview\" src={imageUrl} />\n              <i\n                className=\"fas fa-times-circle delete-preview\"\n                onClick={() => this.deletePreviewImage({ idx })}\n              ></i>\n            </div>\n          );\n        })\n      : null;\n    \n    const imagePreviews = oldImagePreviews ?\n      oldImagePreviews.concat(newImagePreviews) :\n      newImagePreviews;\n\n    const imageLabel =\n      this.state.imageFiles !== null || this.state.oldImagesFiles !== null ? 'Add more photos' : 'Upload Photos!';\n    const imageUploadSection = (\n      <div className=\"image-upload-box\">\n        {imagePreviews}\n        <label htmlFor=\"upload-box\" className=\"upload-label-box\">\n          <div className=\"camera-icon-text-container\">\n            <div className=\"camera-icon fas fa-camera\" />\n            <div>{imageLabel}</div>\n          </div>\n          <input\n            type=\"file\"\n            accept=\"image/*\"\n            id=\"upload-box\"\n            value=\"\"\n            onChange={this.handleUpload}\n            multiple\n          />\n        </label>\n      </div>\n    );\n    // UPDATE VIDEO AND AUDIO WITH CASES\n    const newVideoPreviews = this.state.imageUrls // if\n      ? this.state.imageUrls.map((imageUrl, idx) => {\n          return (\n            <div key={idx} className=\"image-preview-box\">\n              <video controls className=\"image-preview\" src={imageUrl} />\n              <i\n                className=\"fas fa-times-circle delete-preview\"\n                onClick={() => this.deletePreviewImage({ idx })}\n              ></i>\n            </div>\n          );\n        })\n      : null;\n    \n    const videoPreviews = oldImagePreviews ?\n      oldImagePreviews.concat(newVideoPreviews) :\n      newVideoPreviews;\n\n    const videoLabel = 'Upload Video!';\n    const videoUploadSection = (\n      <div className=\"image-upload-box\">\n        {videoPreviews}\n        <label htmlFor=\"upload-box\" className=\"upload-label-box\">\n          <div className=\"camera-icon-text-container\">\n            <div className=\"camera-icon fas fa-video\" />\n            <div>{videoLabel}</div>\n          </div>\n          <input\n            type=\"file\"\n            accept=\"video/*\"\n            id=\"upload-box\"\n            onChange={this.handleUpload}\n          />\n        </label>\n      </div>\n    );\n\n    const newAudioPreviews = this.state.imageUrls // if\n      ? this.state.imageUrls.map((imageUrl, idx) => {\n          return (\n            <div key={idx} className=\"image-preview-box\">\n              <audio controls src={imageUrl}>\n                Your browser does not support this player\n              </audio>\n              <i\n                className=\"fas fa-times-circle delete-preview\"\n                onClick={() => this.deletePreviewImage({ idx })}\n              ></i>\n            </div>\n          );\n        })\n      : null;\n    \n    const audioPreviews = oldImagePreviews ?\n      oldImagePreviews.concat(newAudioPreviews) :\n      newAudioPreviews;\n\n    const audioLabel = 'Upload Music!';\n    const audioUploadSection = (\n      <div className=\"image-upload-box\">\n        {audioPreviews}\n        <label htmlFor=\"upload-box\" className=\"upload-label-box\">\n          <div className=\"camera-icon-text-container\">\n            <div className=\"camera-icon fas fa-headphones\" />\n            <div>{audioLabel}</div>\n          </div>\n          <input\n            type=\"file\"\n            accept=\"audio/*\"\n            id=\"upload-box\"\n            onChange={this.handleUpload}\n          />\n        </label>\n      </div>\n    );\n\n    const quoteSection = (\n      <input\n        type=\"text\"\n        placeholder='\"Quote\"'\n        className=\"input-quote\"\n        onChange={this.handleInput('title')}\n      />\n    );\n\n    const textSection = (\n      <textarea\n        cols=\"30\"\n        rows=\"4\"\n        value={text}\n        placeholder={placeholderText}\n        className=\"input-body\"\n        elastic=\"true\"\n        onChange={this.handleInput('text')}\n      ></textarea>\n    );\n\n    const tagSection = (\n      <div\n        className=\"tag-section\"\n        onClick={() => {\n          document.getElementById('tagInput').focus();\n          return false;\n        }}\n      >\n        {this.state.tags.map((tag,idx) => {\n          return <div key={idx} className=\"enteredTag\">{`#${tag}`}</div>\n        })}\n        <input\n          id=\"tagInput\"\n          type=\"text\"\n          placeholder=\"#add tags\"\n          className=\"tag-input-body\"\n          elastic=\"true\"\n          onChange={this.handleInput('tags')}\n          onKeyDown={(e) => this.createTag(e)}\n        ></input>\n      </div>\n    );\n\n    let formBlock;\n    switch (this.state.type) {\n      case 'text':\n        formBlock = (\n          <div className=\"formData\">\n            {titleSection}\n            {textSection}\n            {tagSection}\n          </div>\n        );\n        break;\n      case 'image':\n        formBlock = (\n          <div className=\"formData\">\n            {imageUploadSection}\n            {textSection}\n            {tagSection}\n          </div>\n        );\n        break;\n      case 'quote':\n        formBlock = (\n          <div className=\"formData\">\n            {quoteSection}\n            {textSection}\n            {tagSection}\n          </div>\n        );\n        break;\n      case 'audio':\n        formBlock = (\n          <div className=\"formData\">\n            {audioUploadSection}\n            {textSection}\n            {tagSection}\n          </div>\n        );\n        break;\n      case 'video':\n        formBlock = (\n          <div className=\"formData\">\n            {videoUploadSection}\n            {textSection}\n            {tagSection}\n          </div>\n        );\n        break;\n    }\n\n    let disabled = true;\n    if (title !== '' || text !== '' || imageFiles !== null) {\n      disabled = false;\n    } else {\n      disabled = true;\n    }\n\n    let submitText;\n    if (task === 'edit') submitText = 'Update'\n    else submitText = 'Create';\n\n    return (\n      <>\n        {/* <img className=\"avatar-dash\" src={currentUser.avatar} /> */}\n        <div className=\"quest-form-box quest-box\">\n          <div className=\"quest-form-top-block\">{currentUser.username}</div>\n          {formBlock}\n          <div className=\"quest-form-bottom-block\">\n            <button className=\"quest-close\" onClick={closeModal}>\n              Close\n            </button>\n            <button\n              disabled={disabled}\n              className=\"quest-create\"\n              onClick={this.handleSubmit}\n            >\n              <span>{submitText}</span>\n            </button>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default NewQuestForm;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { openModal, closeModal } from '../../actions/modal_actions';\n\nclass NewQuestSelector extends React.Component {\n  constructor(props) {\n    super(props);\n    this.toggleAnimation = this.toggleAnimation.bind(this);\n  }\n  componentDidMount() {\n    document.querySelector('body').style.position = 'fixed';\n    setTimeout(() => {\n      if (document.querySelector('.quest-selector-container')) {\n        document\n          .querySelector('.quest-selector-container')\n          .classList.add('animation-on');\n        document\n          .querySelector('.selector-cancel-button')\n          .classList.add('animation-on','visible');\n      }\n    }, 3000);\n  }\n\n  componentWillUnmount() {\n    document.querySelector('body').style.position = 'relative';\n  }\n  toggleAnimation() {\n    document\n      .querySelector('.quest-selector-container')\n      .classList.toggle('animation-on');\n    document\n      .querySelector('.selector-cancel-button')\n      .classList.toggle('animation-on');\n  }\n  render() {\n    return (\n      <>\n        <div\n          onClick={() => this.props.openModal('new-text')}\n          className=\"option-container selector-text\"\n        >\n          <span className=\"fas fa-font\"></span>\n        </div>\n        <div\n          onClick={() => this.props.openModal('new-image')}\n          className=\"option-container selector-image\"\n        >\n          <span className=\"fas fa-camera\"></span>\n        </div>\n        <div\n          onClick={() => this.props.openModal('new-quote')}\n          className=\"option-container selector-quote\"\n        >\n          <span className=\"fas fa-quote-right\"></span>\n        </div>\n        <div\n          onClick={() => this.props.openModal('new-audio')}\n          className=\"option-container selector-audio\"\n        >\n          <span className=\"fas fa-music\"></span>\n        </div>\n        <div\n          onClick={() => this.props.openModal('new-video')}\n          className=\"option-container selector-video\"\n        >\n          <span className=\"fas fa-video\"></span>\n        </div>\n        <div\n          onClick={this.toggleAnimation}\n          className=\"selector-cancel-button\"\n        >\n          <span>Toggle</span>\n          <span>Animation</span>\n        </div>\n      </>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    openModal: (modal) => dispatch(openModal(modal)),\n    // closeModal: () => dispatch(closeModal()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewQuestSelector)\n;\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { logout } from '../../actions/session_actions'\nimport { openModal, closeModal } from '../../actions/modal_actions';\nimport { Link } from 'react-router-dom';\n\nclass UserMenu extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = { currentUser: this.props.currentUser,\n        imageUrl: null,\n        imageFile: null, };\n        this.reference = React.createRef();\n\n        this.logoutUser = this.logoutUser.bind(this);\n        // this.handleUpload = this.handleUpload.bind(this);\n    }\n\n    logoutUser() {\n      this.props.logout();\n      this.props.closeModal();\n    }\n    render() {\n      const { currentUser, closeModal, openModal2 } = this.props;\n      return (\n        <>\n          <div className=\"user-menu-top\">\n            <label className=\"user-menu-avatar\">\n              <img\n                src={currentUser.avatarUrl || currentUser.avatar}\n                // onClick={() => {\n                //   closeModal();\n                //   openModal2('avatar');\n                // }}\n              />\n            </label>\n            <div className=\"user-menu-username\">{currentUser.username}</div>\n          </div>\n          <div className=\"user-menu-top-buttons\">\n            <div className=\"menu-container\">\n              <button className=\"link\" onClick={this.logoutUser}>\n                <span className=\"fas fa-sign-out-alt\"></span>\n                <span>Logout</span>\n              </button>\n            </div>\n            <div className=\"menu-container\" onClick={closeModal}>\n              <Link to=\"/dashboard\" className=\"link\">\n                <span className=\"fas fa-home\"></span>\n                <span>Dashboard</span>\n              </Link>\n            </div>\n            <div className=\"menu-container\" onClick={closeModal}>\n              <Link to=\"/explore\" className=\"link\">\n                <span className=\"fas fa-compass\"></span>\n                <span>Explore</span>\n              </Link>\n            </div>\n            <div className=\"menu-container\" onClick={closeModal}>\n              <Link to=\"/likes\" className=\"link\">\n                <span className=\"fas fa-heart\"></span>\n                <span>Likes</span>\n              </Link>\n            </div>\n            <div className=\"menu-container\" onClick={closeModal}>\n              <Link to=\"/follows\" className=\"link\">\n                <span className=\"fas fa-user-friends\"></span>\n                <span>Follows</span>\n              </Link>\n            </div>\n            <div className=\"menu-container\" onClick={closeModal}>\n              <Link to=\"/settings\" className=\"link\">\n                <span className=\"fas fa-cogs\"></span>\n                <span>Settings</span>\n              </Link>\n            </div>\n            <div className=\"menu-container\" onClick={closeModal}>\n              <Link to=\"/about\" className=\"link\">\n                <span className=\"fas fa-question-circle\"></span>\n                <span>About</span>\n              </Link>\n            </div>\n          </div>\n        </>\n      );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    let currentUser = state.session.currentUser;\n    return {\n    currentUser: currentUser,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    logout: () => dispatch(logout()),\n    openModal: () => dispatch(openModal()),\n    closeModal: () => dispatch(closeModal()),\n})\n    \n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);","import React from 'react'\nimport {connect} from 'react-redux'\nimport {fetchUser} from '../../actions/user_actions'\nimport QuestContainer from '../quests/quest_container'\n\nclass UserPage extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n          user: null || this.props.user,\n        };\n    }\n\n\n    componentDidMount(){\n        if (!this.props.user){\n            this.props.fetchUser(this.props.userId)\n            .then(this.setState({\n                user: this.props.user\n            }))\n        }\n    }\n\n    render() {\n    if (!this.props.user){\n        return null;\n    }\n    let quests = this.props.quests;\n    let myQuests = [];\n    const authorId = this.props.authorId;\n    quests.forEach((quest)=>{\n        if (quest.authorId === parseInt(authorId)){\n            myQuests.push(quest)\n        }\n    })\n    \n    let avatar = this.props.user.avatarUrl || this.props.user.avatar;\n    let sortedQuests = myQuests.reverse();\n    let showQuests = sortedQuests.map((quest, idx)=>(\n        <QuestContainer key={idx} quest={quest} loc={\"userpage\"}/>\n    ))\n    \n        return (<>\n            <div className=\"user-page-top\">\n                <img src={avatar}/>\n                <div className=\"user-page-username\">{this.props.user.username}</div>\n            </div>\n            <div>{showQuests}</div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    let userId = ownProps.authorId;\n    return {\n    userId: userId,\n    quests: Object.values(state.entities.quests),\n    user: state.entities.users[userId]\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    fetchUser: (userId) => dispatch(fetchUser(userId))\n})\n    \n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserPage);\n\n"],"sourceRoot":""}